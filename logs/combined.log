{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ Gatas News API Server started successfully!\u001b[39m","timestamp":"2025-09-05 11:06:52:652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìç Server running on port 8000\u001b[39m","timestamp":"2025-09-05 11:06:52:652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: production\u001b[39m","timestamp":"2025-09-05 11:06:52:652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:8000/health\u001b[39m","timestamp":"2025-09-05 11:06:52:652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müì∞ API endpoint: http://localhost:8000/api/v1/news\u001b[39m","timestamp":"2025-09-05 11:06:52:652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived SIGTERM. Starting graceful shutdown...\u001b[39m","timestamp":"2025-09-05 11:07:13:713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ Gatas News API Server started successfully!\u001b[39m","timestamp":"2025-09-05 11:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìç Server running on port 8000\u001b[39m","timestamp":"2025-09-05 11:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-05 11:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:8000/health\u001b[39m","timestamp":"2025-09-05 11:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müì∞ API endpoint: http://localhost:8000/api/v1/news\u001b[39m","timestamp":"2025-09-05 11:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Development mode: Enhanced logging and relaxed rate limits\u001b[39m","timestamp":"2025-09-05 11:07:29:729"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived SIGINT. Starting graceful shutdown...\u001b[39m","timestamp":"2025-09-05 11:17:35:1735"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ Gatas News API Server started successfully!\u001b[39m","timestamp":"2025-09-05 11:17:56:1756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìç Server running on port 8000\u001b[39m","timestamp":"2025-09-05 11:17:56:1756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-05 11:17:56:1756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check: http://localhost:8000/health\u001b[39m","timestamp":"2025-09-05 11:17:56:1756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müì∞ API endpoint: http://localhost:8000/api/v1/news\u001b[39m","timestamp":"2025-09-05 11:17:56:1756"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Development mode: Enhanced logging and relaxed rate limits\u001b[39m","timestamp":"2025-09-05 11:17:56:1756"}
{"level":"\u001b[35mhttp\u001b[39m","message":"\u001b[35mGET /health 200 144 - 6.878 ms\u001b[39m","timestamp":"2025-09-05 11:18:03:183"}
{"ip":"::1","level":"\u001b[32minfo\u001b[39m","limit":2,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 11:18:09:189"}
{"level":"\u001b[37mdebug\u001b[39m","message":"\u001b[37mCache miss for key: news-all-page-1, fetching from API\u001b[39m","timestamp":"2025-09-05 11:18:09:189"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mLoaded 110 celebrities from file\u001b[39m","timestamp":"2025-09-05 11:18:09:189"}
{"error":"External API Error: News API key is not configured","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mExternal API Error: News API key is not configured - GET /api/v1/news - ::1\u001b[39m","method":"GET","path":"/api/v1/news","stack":"Error: External API Error: News API key is not configured\n    at new ExternalAPIError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:37:5)\n    at NewsService.fetchArticlesForCelebrities (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:111:13)\n    at NewsService.getNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:74:35)\n    at async /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/newsController.ts:22:20","timestamp":"2025-09-05 11:18:09:189","userAgent":"curl/8.7.1"}
{"level":"\u001b[35mhttp\u001b[39m","message":"\u001b[35mGET /api/v1/news?limit=2 502 701 - 6.676 ms\u001b[39m","timestamp":"2025-09-05 11:18:09:189"}
{"level":"\u001b[35mhttp\u001b[39m","message":"\u001b[35mGET / 200 306 - 0.652 ms\u001b[39m","timestamp":"2025-09-05 11:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived SIGTERM. Starting graceful shutdown...\u001b[39m","timestamp":"2025-09-05 11:18:24:1824"}
{"database":"test","host":"mongodb://127.0.0.1:62932/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:36:23:3623"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:36:23:3623"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:36:23:3623","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required., name: Path `name` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required., name: Path `name` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:36:23:3623"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:36:23:3623"}
{"database":"test","host":"mongodb://127.0.0.1:63141/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:37:47:3747"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:37:48:3748"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:37:48:3748","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:37:48:3748"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:37:48:3748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:37:48:3748"}
{"database":"test","host":"mongodb://127.0.0.1:63420/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:39:47:3947"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:39:47:3947"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:39:47:3947","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:39:47:3947"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:39:47:3947"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:39:47:3947"}
{"database":"test","host":"mongodb://127.0.0.1:63613/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:41:15:4115"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:41:15:4115"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:41:15:4115","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:41:16:4116"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:41:16:4116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:41:16:4116"}
{"database":"test","host":"mongodb://127.0.0.1:63713/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:41:56:4156"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:41:56:4156"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:41:56:4156","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:41:56:4156"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:41:56:4156"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:41:56:4156"}
{"database":"test","host":"mongodb://127.0.0.1:63878/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:43:11:4311"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:43:11:4311"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:43:11:4311","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:43:11:4311"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:43:11:4311"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:43:11:4311"}
{"database":"test","host":"mongodb://127.0.0.1:63879/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:43:12:4312"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:43:12:4312"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:43:12:4312"}
{"database":"test","host":"mongodb://127.0.0.1:64318/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:46:11:4611"}
{"database":"test","host":"mongodb://127.0.0.1:64319/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:46:11:4611"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:46:11:4611"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:46:11:4611"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:46:12:4612"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:46:12:4612","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:46:12:4612"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:46:12:4612"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:46:12:4612"}
{"database":"test","host":"mongodb://127.0.0.1:64428/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:46:49:4649"}
{"database":"test","host":"mongodb://127.0.0.1:64427/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:46:49:4649"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:46:49:4649"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:46:49:4649"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:46:49:4649"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:46:49:4649","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:46:50:4650"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:46:50:4650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:46:50:4650"}
{"database":"test","host":"mongodb://127.0.0.1:65263/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:52:55:5255"}
{"database":"test","host":"mongodb://127.0.0.1:65268/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:52:55:5255"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:52:55:5255"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:52:56:5256"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:52:56:5256","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:52:56:5256"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:52:56:5256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:52:56:5256"}
{"database":"test","host":"mongodb://127.0.0.1:49484/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:57:07:577"}
{"database":"test","host":"mongodb://127.0.0.1:49485/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 12:57:07:577"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:57:07:577"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:57:07:577"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:57:08:578"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:57:08:578","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:57:08:578"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 12:57:08:578"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 12:57:08:578"}
{"database":"test","host":"mongodb://127.0.0.1:49913/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:00:12:012"}
{"database":"test","host":"mongodb://127.0.0.1:49912/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:00:12:012"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:00:12:012"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:00:12:012"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:00:13:013"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:00:13:013","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:00:13:013"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:00:13:013"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:00:13:013"}
{"database":"test","host":"mongodb://127.0.0.1:50104/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:01:33:133"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:01:33:133"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:01:33:133","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:50105/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:01:33:133"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:01:33:133"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:01:33:133"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:01:33:133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:01:33:133"}
{"database":"test","host":"mongodb://127.0.0.1:50231/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:02:22:222"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:02:22:222"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:02:22:222","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:02:23:223"}
{"database":"test","host":"mongodb://127.0.0.1:50237/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:02:23:223"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:02:23:223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:02:23:223"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:02:23:223"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:02:23:223"}
{"database":"test","host":"mongodb://127.0.0.1:50301/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:02:51:251"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:02:51:251"}
{"database":"test","host":"mongodb://127.0.0.1:50303/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:02:51:251"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:02:51:251"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:02:51:251"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:02:51:251","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:02:52:252"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:02:52:252"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:02:52:252"}
{"database":"test","host":"mongodb://127.0.0.1:50318/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:02:55:255"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:02:55:255"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:02:55:255"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:02:55:255"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:02:55:255"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:02:55:255"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:02:55:255"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:02:55:255"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"database":"test","host":"mongodb://127.0.0.1:50325/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"database":"test","host":"mongodb://127.0.0.1:50323/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"database":"test","host":"mongodb://127.0.0.1:50324/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:02:56:256"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:02:57:257"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:02:57:257"}
{"database":"test","host":"mongodb://127.0.0.1:50958/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:06:43:643"}
{"database":"test","host":"mongodb://127.0.0.1:50959/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:06:43:643"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:06:43:643"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:06:43:643"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:06:43:643","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:50960/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:06:43:643"}
{"database":"test","host":"mongodb://127.0.0.1:50961/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:06:43:643"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:06:44:644"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:06:44:644"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:06:44:644"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:06:44:644"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:06:44:644"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:06:44:644"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:06:44:644"}
{"database":"test","host":"mongodb://127.0.0.1:50962/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"database":"test","host":"mongodb://127.0.0.1:50963/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"database":"test","host":"mongodb://127.0.0.1:50970/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:06:44:644"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:06:45:645"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:06:45:645"}
{"database":"test","host":"mongodb://127.0.0.1:51398/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:08:41:841"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:08:41:841"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:08:41:841","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:51403/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:08:42:842"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:08:42:842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:08:42:842"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:08:42:842"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:08:42:842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:08:42:842"}
{"database":"test","host":"mongodb://127.0.0.1:51426/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:08:49:849"}
{"database":"test","host":"mongodb://127.0.0.1:51427/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"database":"test","host":"mongodb://127.0.0.1:51428/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"database":"test","host":"mongodb://127.0.0.1:51430/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"database":"test","host":"mongodb://127.0.0.1:51429/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:08:50:850"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:08:50:850"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:08:50:850"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:08:50:850"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:08:50:850"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:08:50:850"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:08:50:850"}
{"database":"test","host":"mongodb://127.0.0.1:51934/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:11:30:1130"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:11:30:1130"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:11:30:1130","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:51935/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:11:30:1130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"database":"test","host":"mongodb://127.0.0.1:51936/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"database":"test","host":"mongodb://127.0.0.1:51941/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"database":"test","host":"mongodb://127.0.0.1:51942/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"database":"test","host":"mongodb://127.0.0.1:51943/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"database":"test","host":"mongodb://127.0.0.1:51944/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:11:31:1131"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:11:31:1131"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:11:31:1131"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:11:31:1131"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:11:31:1131"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:11:31:1131"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:11:31:1131"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:11:31:1131"}
{"database":"test","host":"mongodb://127.0.0.1:52229/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:12:20:1220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"database":"test","host":"mongodb://127.0.0.1:52230/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"database":"test","host":"mongodb://127.0.0.1:52231/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:12:21:1221"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:12:21:1221","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:52236/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"database":"test","host":"mongodb://127.0.0.1:52238/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"database":"test","host":"mongodb://127.0.0.1:52237/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"database":"test","host":"mongodb://127.0.0.1:52239/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:12:21:1221"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:12:22:1222"}
{"database":"test","host":"mongodb://127.0.0.1:53073/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:16:49:1649"}
{"database":"test","host":"mongodb://127.0.0.1:53074/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:16:50:1650"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:16:50:1650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:16:50:1650"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:16:50:1650"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:16:50:1650","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:16:51:1651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:16:51:1651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:16:51:1651"}
{"database":"test","host":"mongodb://127.0.0.1:53095/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:16:54:1654"}
{"database":"test","host":"mongodb://127.0.0.1:53094/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"database":"test","host":"mongodb://127.0.0.1:53093/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:16:54:1654"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:16:54:1654"}
{"database":"test","host":"mongodb://127.0.0.1:53092/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"database":"test","host":"mongodb://127.0.0.1:53096/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:16:54:1654"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:16:54:1654"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:211:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:16:54:1654"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:16:54:1654"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:16:54:1654"}
{"database":"test","host":"mongodb://127.0.0.1:53800/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:21:01:211"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:21:01:211"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:21:01:211"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:21:01:211"}
{"database":"test","host":"mongodb://127.0.0.1:54127/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:23:15:2315"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:23:15:2315"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:23:15:2315"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:23:15:2315"}
{"database":"test","host":"mongodb://127.0.0.1:54261/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:24:19:2419"}
{"database":"test","host":"mongodb://127.0.0.1:54260/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:24:19:2419"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:24:19:2419"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:24:19:2419"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:24:19:2419"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:24:19:2419","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:24:20:2420"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:24:21:2421"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:24:21:2421"}
{"database":"test","host":"mongodb://127.0.0.1:54285/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"database":"test","host":"mongodb://127.0.0.1:54286/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"database":"test","host":"mongodb://127.0.0.1:54283/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:24:24:2424"}
{"database":"test","host":"mongodb://127.0.0.1:54284/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:24:24:2424"}
{"database":"test","host":"mongodb://127.0.0.1:54287/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:24:24:2424"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:24:24:2424"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:24:24:2424"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:24:25:2425"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:24:25:2425"}
{"database":"test","host":"mongodb://127.0.0.1:54583/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:25:23:2523"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:25:23:2523"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:25:23:2523"}
{"database":"test","host":"mongodb://127.0.0.1:55857/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:34:11:3411"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:34:11:3411"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:34:11:3411"}
{"database":"test","host":"mongodb://127.0.0.1:56163/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:24:3624"}
{"database":"test","host":"mongodb://127.0.0.1:56169/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:24:3624"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:24:3624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:24:3624"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:36:24:3624"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:36:24:3624","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:56170/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"database":"test","host":"mongodb://127.0.0.1:56171/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:36:25:3625"}
{"database":"test","host":"mongodb://127.0.0.1:56173/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:25:3625"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"database":"test","host":"mongodb://127.0.0.1:56172/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:25:3625"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:25:3625"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:36:25:3625"}
{"database":"test","host":"mongodb://127.0.0.1:56174/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:25:3625"}
{"database":"test","host":"mongodb://127.0.0.1:56413/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:50:3650"}
{"database":"test","host":"mongodb://127.0.0.1:56414/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:50:3650"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:50:3650"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:50:3650"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:36:51:3651"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:36:51:3651","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:36:51:3651"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:51:3651"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:51:3651"}
{"database":"test","host":"mongodb://127.0.0.1:56426/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:36:52:3652"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:36:52:3652"}
{"database":"test","host":"mongodb://127.0.0.1:56424/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:36:52:3652"}
{"database":"test","host":"mongodb://127.0.0.1:56425/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"database":"test","host":"mongodb://127.0.0.1:56423/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:52:3652"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:52:3652"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"database":"test","host":"mongodb://127.0.0.1:56430/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:52:3652"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:52:3652"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:52:3652"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:36:52:3652"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:36:53:3653"}
{"database":"test","host":"mongodb://127.0.0.1:56843/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"database":"test","host":"mongodb://127.0.0.1:56842/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:38:20:3820"}
{"database":"test","host":"mongodb://127.0.0.1:56848/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:38:20:3820","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:56850/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"database":"test","host":"mongodb://127.0.0.1:56849/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:38:20:3820"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:38:20:3820"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:20:3820"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:20:3820"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"database":"test","host":"mongodb://127.0.0.1:56851/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:38:21:3821"}
{"database":"test","host":"mongodb://127.0.0.1:56856/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:21:3821"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:21:3821"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:21:3821"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:21:3821"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:21:3821"}
{"database":"test","host":"mongodb://127.0.0.1:57083/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:41:3841"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:41:3841"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:41:3841"}
{"database":"test","host":"mongodb://127.0.0.1:57082/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:41:3841"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:38:42:3842"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:38:42:3842","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:57085/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:42:3842"}
{"database":"test","host":"mongodb://127.0.0.1:57086/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:42:3842"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:42:3842"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:42:3842"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:42:3842"}
{"database":"test","host":"mongodb://127.0.0.1:57091/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:42:3842"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:42:3842"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:42:3842"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:42:3842"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:38:42:3842"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:42:3842"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:42:3842"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:38:42:3842"}
{"database":"test","host":"mongodb://127.0.0.1:57092/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:38:43:3843"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:38:43:3843"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:38:43:3843"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"database":"test","host":"mongodb://127.0.0.1:57093/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:43:3843"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:38:44:3844"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:38:44:3844"}
{"database":"test","host":"mongodb://127.0.0.1:57445/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:39:58:3958"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:39:58:3958"}
{"database":"test","host":"mongodb://127.0.0.1:57446/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:39:58:3958"}
{"database":"test","host":"mongodb://127.0.0.1:57447/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:39:58:3958"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:39:58:3958"}
{"database":"test","host":"mongodb://127.0.0.1:57448/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"database":"test","host":"mongodb://127.0.0.1:57449/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:39:59:3959"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:39:59:3959"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:39:59:3959"}
{"database":"test","host":"mongodb://127.0.0.1:57451/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:39:59:3959"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:39:59:3959"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:39:59:3959","value":"invalid-id","valueType":"string"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:39:59:3959"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"database":"test","host":"mongodb://127.0.0.1:57452/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:39:59:3959"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:40:00:400"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:40:00:400"}
{"database":"test","host":"mongodb://127.0.0.1:58344/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"database":"test","host":"mongodb://127.0.0.1:58343/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"database":"test","host":"mongodb://127.0.0.1:58346/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"database":"test","host":"mongodb://127.0.0.1:58347/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:45:12:4512"}
{"database":"test","host":"mongodb://127.0.0.1:58345/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:45:12:4512"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:45:12:4512"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:45:12:4512","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"database":"test","host":"mongodb://127.0.0.1:58352/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"database":"test","host":"mongodb://127.0.0.1:58353/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:45:13:4513"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:45:13:4513"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:45:13:4513"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:45:13:4513"}
{"database":"test","host":"mongodb://127.0.0.1:58743/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:46:46:4646"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:46:47:4647"}
{"database":"test","host":"mongodb://127.0.0.1:58745/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:46:47:4647"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:46:47:4647"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:46:47:4647","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:58746/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:46:47:4647"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:46:47:4647"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:46:47:4647"}
{"database":"test","host":"mongodb://127.0.0.1:58752/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:46:47:4647"}
{"database":"test","host":"mongodb://127.0.0.1:58747/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:46:47:4647"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:46:47:4647"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:46:47:4647"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:46:47:4647"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:46:47:4647"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:46:47:4647"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:46:48:4648"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:46:48:4648"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"database":"test","host":"mongodb://127.0.0.1:58754/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:46:48:4648"}
{"database":"test","host":"mongodb://127.0.0.1:58753/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:46:48:4648"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:46:48:4648"}
{"database":"test","host":"mongodb://127.0.0.1:59272/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"database":"test","host":"mongodb://127.0.0.1:59271/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"database":"test","host":"mongodb://127.0.0.1:59273/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"database":"test","host":"mongodb://127.0.0.1:59274/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"database":"test","host":"mongodb://127.0.0.1:59276/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:49:25:4925"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:49:25:4925"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:49:25:4925"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"database":"test","host":"mongodb://127.0.0.1:59275/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:49:25:4925"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:49:25:4925"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:49:26:4926"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:49:26:4926"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:49:26:4926"}
{"database":"test","host":"mongodb://127.0.0.1:59277/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:49:26:4926"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:49:26:4926"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:49:26:4926"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:49:26:4926","value":"invalid-id","valueType":"string"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:49:27:4927"}
{"database":"test","host":"mongodb://127.0.0.1:59283/","level":"\u001b[32m'info'\u001b[39m","message":"\u001b[32m'‚úÖ MongoDB connected successfully'\u001b[39m","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error creating article: Creation failed'\u001b[39m","stack":"Error: Creation failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:58:64)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by ID: Article_1.Article.findById(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findById(...).exec is not a function\n    at ArticleRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:68:41)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:70:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by ID: Article_1.Article.findById(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findById(...).exec is not a function\n    at ArticleRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:68:41)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:79:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by ID: Article_1.Article.findById(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findById(...).exec is not a function\n    at ArticleRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:68:41)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:87:38)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by URL: Article_1.Article.findOne(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findOne(...).exec is not a function\n    at ArticleRepository.findByUrl (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:80:45)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:96:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by URL: Article_1.Article.findOne(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findOne(...).exec is not a function\n    at ArticleRepository.findByUrl (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:80:45)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:105:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error finding articles with filters: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.findWithFilters (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:112:38)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:186:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error finding articles with filters: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.findWithFilters (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:112:38)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:216:31)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error finding articles with filters: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.findWithFilters (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:112:38)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:244:31)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error updating article: Article_1.Article.findByIdAndUpdate(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findByIdAndUpdate(...).exec is not a function\n    at ArticleRepository.update (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:229:77)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:263:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error updating article: Article_1.Article.findByIdAndUpdate(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findByIdAndUpdate(...).exec is not a function\n    at ArticleRepository.update (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:229:77)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:275:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error getting articles statistics: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.getStatistics (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:307:33)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:314:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error getting articles statistics: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.getStatistics (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:307:33)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:323:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error checking article existence: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.existsByUrl (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:266:58)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:340:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error checking article existence: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.existsByUrl (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:266:58)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:349:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding articles with filters: Article_1.Article.find(...).sort is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.find(...).sort is not a function\n    at ArticleRepository.findWithFilters (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:111:29)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:360:38)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error creating article: Validation failed'\u001b[39m","stack":"Error: Validation failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:374:64)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[33m'warn'\u001b[39m","message":"\u001b[33m'MongoDB disconnected'\u001b[39m","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[32m'info'\u001b[39m","message":"\u001b[32m'MongoDB disconnected gracefully'\u001b[39m","timestamp":"2025-09-05 13:49:27:4927"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:49:27:4927"}
{"database":"test","host":"mongodb://127.0.0.1:59978/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:53:23:5323"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:53:23:5323"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:53:23:5323"}
{"database":"test","host":"mongodb://127.0.0.1:59977/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:53:23:5323"}
{"database":"test","host":"mongodb://127.0.0.1:59983/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:53:24:5324"}
{"database":"test","host":"mongodb://127.0.0.1:59984/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"database":"test","host":"mongodb://127.0.0.1:59985/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:53:24:5324"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:53:24:5324"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:53:24:5324","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:53:24:5324"}
{"database":"test","host":"mongodb://127.0.0.1:59986/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:53:24:5324"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:53:24:5324"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:53:24:5324"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:53:25:5325"}
{"database":"test","host":"mongodb://127.0.0.1:59987/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:53:25:5325"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:53:25:5325"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:53:25:5325"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 13:53:25:5325"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:53:25:5325"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:53:25:5325"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:53:25:5325"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:53:25:5325"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:53:25:5325"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:53:25:5325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:53:25:5325"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:53:25:5325"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:53:25:5325"}
{"database":"test","host":"mongodb://127.0.0.1:60339/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:54:53:5453"}
{"database":"test","host":"mongodb://127.0.0.1:60340/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:54:53:5453"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:54:53:5453"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:54:53:5453"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:54:53:5453"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:54:53:5453","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:60345/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:54:53:5453"}
{"database":"test","host":"mongodb://127.0.0.1:60346/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:54:54:5454"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:54:54:5454"}
{"database":"test","host":"mongodb://127.0.0.1:60347/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:54:54:5454"}
{"database":"test","host":"mongodb://127.0.0.1:60348/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:54:54:5454"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:54:54:5454"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:54:54:5454"}
{"database":"test","host":"mongodb://127.0.0.1:60349/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:54:54:5454"}
{"database":"test","host":"mongodb://127.0.0.1:60938/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:57:45:5745"}
{"database":"test","host":"mongodb://127.0.0.1:60943/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:57:45:5745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:57:45:5745"}
{"database":"test","host":"mongodb://127.0.0.1:60944/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:57:45:5745"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:57:45:5745"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:57:46:5746"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:57:46:5746"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:57:46:5746","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:60945/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:57:46:5746"}
{"database":"test","host":"mongodb://127.0.0.1:60946/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:57:46:5746"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:57:46:5746"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:57:46:5746"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 13:57:46:5746"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 13:57:46:5746"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:57:46:5746"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:57:46:5746"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 13:57:46:5746"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:57:46:5746"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 13:57:46:5746"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:57:46:5746"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:57:46:5746"}
{"database":"test","host":"mongodb://127.0.0.1:60949/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:57:47:5747"}
{"database":"test","host":"mongodb://127.0.0.1:60950/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 13:57:47:5747"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:57:47:5747"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 13:57:47:5747"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 13:57:47:5747"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 13:57:47:5747"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:57:48:5748"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 13:57:48:5748"}
{"database":"test","host":"mongodb://127.0.0.1:61429/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"database":"test","host":"mongodb://127.0.0.1:61427/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"database":"test","host":"mongodb://127.0.0.1:61434/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:00:04:04"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:00:04:04"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:04:04"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"database":"test","host":"mongodb://127.0.0.1:61435/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"database":"test","host":"mongodb://127.0.0.1:61436/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"database":"test","host":"mongodb://127.0.0.1:61437/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:00:04:04","value":"invalid-id","valueType":"string"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:04:04"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"database":"test","host":"mongodb://127.0.0.1:61439/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:05:05"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:05:05"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:05:05"}
{"database":"test","host":"mongodb://127.0.0.1:61682/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:43:043"}
{"database":"test","host":"mongodb://127.0.0.1:61681/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:43:043"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:43:043"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:43:043"}
{"database":"test","host":"mongodb://127.0.0.1:61685/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"database":"test","host":"mongodb://127.0.0.1:61684/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"database":"test","host":"mongodb://127.0.0.1:61683/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"database":"test","host":"mongodb://127.0.0.1:61687/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:44:044"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:00:44:044"}
{"database":"test","host":"mongodb://127.0.0.1:61686/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:44:044"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:00:44:044"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:00:44:044"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:44:044"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"database":"test","host":"mongodb://127.0.0.1:61692/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:00:44:044","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:44:044"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:45:045"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:00:45:045"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:00:45:045"}
{"database":"test","host":"mongodb://127.0.0.1:61916/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:01:13:113"}
{"database":"test","host":"mongodb://127.0.0.1:61923/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:01:13:113"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:01:14:114"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:01:14:114","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:61924/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:24:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:01:14:114","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"database":"test","host":"mongodb://127.0.0.1:61926/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"database":"test","host":"mongodb://127.0.0.1:61929/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:01:14:114"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:01:14:114"}
{"database":"test","host":"mongodb://127.0.0.1:61928/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:01:14:114"}
{"database":"test","host":"mongodb://127.0.0.1:61930/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:01:14:114"}
{"database":"test","host":"mongodb://127.0.0.1:61927/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:01:14:114"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:01:14:114"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:01:15:115"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:01:15:115"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:01:15:115"}
{"database":"test","host":"mongodb://127.0.0.1:62593/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:04:13:413"}
{"database":"test","host":"mongodb://127.0.0.1:62594/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:04:13:413"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:04:13:413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:04:13:413"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:04:13:413"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:04:14:414","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:62595/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"database":"test","host":"mongodb://127.0.0.1:62602/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:24:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:04:14:414","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","timestamp":"2025-09-05 14:04:14:414","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"database":"test","host":"mongodb://127.0.0.1:62596/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"database":"test","host":"mongodb://127.0.0.1:62603/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:04:14:414"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:04:14:414"}
{"database":"test","host":"mongodb://127.0.0.1:62597/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:04:14:414"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:04:14:414"}
{"database":"test","host":"mongodb://127.0.0.1:62604/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:04:14:414"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:04:14:414"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:04:14:414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:04:15:415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:04:15:415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:04:15:415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:04:15:415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:04:15:415"}
{"database":"test","host":"mongodb://127.0.0.1:62878/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:03:53"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"database":"test","host":"mongodb://127.0.0.1:62874/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"database":"test","host":"mongodb://127.0.0.1:62877/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"database":"test","host":"mongodb://127.0.0.1:62872/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"database":"test","host":"mongodb://127.0.0.1:62873/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"database":"test","host":"mongodb://127.0.0.1:62880/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:05:04:54"}
{"database":"test","host":"mongodb://127.0.0.1:62881/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:05:04:54"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:05:04:54"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"database":"test","host":"mongodb://127.0.0.1:62879/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:04:54"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:05:04:54","value":"invalid-id","valueType":"string"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:04:54"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:05:05:55"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:05:55"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:05:55"}
{"database":"test","host":"mongodb://127.0.0.1:63122/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:39:539"}
{"database":"test","host":"mongodb://127.0.0.1:63123/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:39:539"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"database":"test","host":"mongodb://127.0.0.1:63124/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"database":"test","host":"mongodb://127.0.0.1:63125/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"database":"test","host":"mongodb://127.0.0.1:63130/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:40:540"}
{"database":"test","host":"mongodb://127.0.0.1:63131/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"database":"test","host":"mongodb://127.0.0.1:63133/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:05:40:540"}
{"database":"test","host":"mongodb://127.0.0.1:63132/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:05:40:540"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:05:40:540"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:05:40:540"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:05:40:540","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"database":"test","host":"mongodb://127.0.0.1:63134/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:05:40:540"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:41:541"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:41:541"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:41:541"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:41:541"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:05:41:541"}
{"database":"test","host":"mongodb://127.0.0.1:63405/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"database":"test","host":"mongodb://127.0.0.1:63404/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"database":"test","host":"mongodb://127.0.0.1:63403/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:33:633","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:33:633","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"database":"test","host":"mongodb://127.0.0.1:63406/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:33:633"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:06:33:633","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:63408/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"database":"test","host":"mongodb://127.0.0.1:63407/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:06:34:634"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:06:34:634"}
{"database":"test","host":"mongodb://127.0.0.1:63409/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:06:34:634"}
{"database":"test","host":"mongodb://127.0.0.1:63411/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"database":"test","host":"mongodb://127.0.0.1:63410/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:06:34:634"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:06:34:634"}
{"database":"test","host":"mongodb://127.0.0.1:63805/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:08:88"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:08:08:88"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:08:88"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:08:88"}
{"database":"test","host":"mongodb://127.0.0.1:63871/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:35:835"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:08:35:835"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:35:835"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:35:835"}
{"database":"test","host":"mongodb://127.0.0.1:63918/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:54:854"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:08:54:854"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:54:854"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:54:854"}
{"database":"test","host":"mongodb://127.0.0.1:63919/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:55:855","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:55:855","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"database":"test","host":"mongodb://127.0.0.1:63921/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"database":"test","host":"mongodb://127.0.0.1:63920/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"database":"test","host":"mongodb://127.0.0.1:63927/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"database":"test","host":"mongodb://127.0.0.1:63928/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"database":"test","host":"mongodb://127.0.0.1:63929/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"database":"test","host":"mongodb://127.0.0.1:63930/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:08:55:855"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:08:55:855"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:08:55:855"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:08:55:855"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:55:855"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:08:55:855"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"database":"test","host":"mongodb://127.0.0.1:63932/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:08:56:856"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:08:56:856","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:56:856"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:08:57:857"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:08:57:857"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:08:57:857"}
{"database":"test","host":"mongodb://127.0.0.1:64176/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:36:936"}
{"database":"test","host":"mongodb://127.0.0.1:64177/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:36:936"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:09:36:936"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:36:936"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:36:936"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:09:36:936"}
{"database":"test","host":"mongodb://127.0.0.1:64179/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:36:936"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:36:936"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:36:936"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:09:37:937","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:64182/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:09:37:937"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"database":"test","host":"mongodb://127.0.0.1:64180/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"database":"test","host":"mongodb://127.0.0.1:64181/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"database":"test","host":"mongodb://127.0.0.1:64183/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"database":"test","host":"mongodb://127.0.0.1:64184/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:09:37:937"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:09:37:937"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"database":"test","host":"mongodb://127.0.0.1:64189/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:37:937"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:09:38:938"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:09:38:938"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:09:38:938"}
{"database":"test","host":"mongodb://127.0.0.1:64488/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:40:1040"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:10:40:1040"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:40:1040"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:40:1040"}
{"database":"test","host":"mongodb://127.0.0.1:64489/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:40:1040"}
{"database":"test","host":"mongodb://127.0.0.1:64487/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:40:1040"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:40:1040","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:40:1040","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:40:1040"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:40:1040"}
{"database":"test","host":"mongodb://127.0.0.1:64492/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"database":"test","host":"mongodb://127.0.0.1:64490/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:10:41:1041"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:10:41:1041"}
{"database":"test","host":"mongodb://127.0.0.1:64491/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:10:41:1041"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:10:41:1041"}
{"database":"test","host":"mongodb://127.0.0.1:64493/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"database":"test","host":"mongodb://127.0.0.1:64494/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"database":"test","host":"mongodb://127.0.0.1:64495/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:10:41:1041"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:10:41:1041"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:10:41:1041","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:41:1041"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:10:41:1041"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"database":"test","host":"mongodb://127.0.0.1:64637/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:10:42:1042"}
{"database":"test","host":"mongodb://127.0.0.1:64770/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:33:1133","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:33:1133","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"database":"test","host":"mongodb://127.0.0.1:64771/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"database":"test","host":"mongodb://127.0.0.1:64772/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"database":"test","host":"mongodb://127.0.0.1:64775/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:11:33:1133"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:11:33:1133"}
{"database":"test","host":"mongodb://127.0.0.1:64773/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:11:33:1133"}
{"database":"test","host":"mongodb://127.0.0.1:64774/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:11:33:1133"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:33:1133"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:33:1133"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"database":"test","host":"mongodb://127.0.0.1:64776/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"database":"test","host":"mongodb://127.0.0.1:64777/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:11:34:1134","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:64778/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:11:34:1134"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:11:34:1134"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:34:1134"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:11:35:1135"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:35:1135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:35:1135"}
{"database":"test","host":"mongodb://127.0.0.1:64886/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:35:1135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:11:35:1135"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:35:1135"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:35:1135"}
{"database":"test","host":"mongodb://127.0.0.1:64946/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:11:36:1136"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:11:36:1136"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:11:36:1136"}
{"database":"test","host":"mongodb://127.0.0.1:65053/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:19:1219"}
{"database":"test","host":"mongodb://127.0.0.1:65058/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:19:1219"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:19:1219"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:19:1219"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:12:20:1220"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:12:20:1220","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:65060/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"database":"test","host":"mongodb://127.0.0.1:65059/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"database":"test","host":"mongodb://127.0.0.1:65062/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"database":"test","host":"mongodb://127.0.0.1:65061/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"database":"test","host":"mongodb://127.0.0.1:65063/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:12:20:1220"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:12:20:1220"}
{"database":"test","host":"mongodb://127.0.0.1:65064/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:12:20:1220"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"database":"test","host":"mongodb://127.0.0.1:65065/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:12:20:1220"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:20:1220"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:20:1220"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:21:1221"}
{"database":"test","host":"mongodb://127.0.0.1:65183/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:22:1222","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:22:1222","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"database":"test","host":"mongodb://127.0.0.1:65234/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"database":"test","host":"mongodb://127.0.0.1:65233/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:12:22:1222"}
{"database":"test","host":"mongodb://127.0.0.1:65394/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:27:1327"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:27:1327"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:27:1327"}
{"database":"test","host":"mongodb://127.0.0.1:65389/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"database":"test","host":"mongodb://127.0.0.1:65395/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"database":"test","host":"mongodb://127.0.0.1:65397/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:13:28:1328"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:13:28:1328"}
{"database":"test","host":"mongodb://127.0.0.1:65396/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"database":"test","host":"mongodb://127.0.0.1:65398/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:28:1328"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:13:28:1328"}
{"database":"test","host":"mongodb://127.0.0.1:65401/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:13:28:1328","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:65400/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:13:28:1328"}
{"database":"test","host":"mongodb://127.0.0.1:65402/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:28:1328"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:13:29:1329"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:13:29:1329"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:13:29:1329"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:13:29:1329"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:29:1329"}
{"database":"test","host":"mongodb://127.0.0.1:49182/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:30:1330"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:30:1330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:30:1330"}
{"database":"test","host":"mongodb://127.0.0.1:49183/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:30:1330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:13:30:1330"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:30:1330"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:30:1330"}
{"database":"test","host":"mongodb://127.0.0.1:49184/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:13:31:1331"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:31:1331","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:31:1331","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:13:31:1331"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:13:31:1331"}
{"database":"test","host":"mongodb://127.0.0.1:49260/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:05:145"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:05:145"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:05:145"}
{"database":"test","host":"mongodb://127.0.0.1:49265/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:06:146"}
{"database":"test","host":"mongodb://127.0.0.1:49266/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:06:146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:06:146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:06:146"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:14:06:146","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:49268/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:06:146"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:06:146"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:06:146"}
{"database":"test","host":"mongodb://127.0.0.1:49270/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"database":"test","host":"mongodb://127.0.0.1:49271/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:14:07:147"}
{"database":"test","host":"mongodb://127.0.0.1:49269/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:14:07:147"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:14:07:147"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:14:07:147"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:07:147"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:07:147"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:07:147"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:07:147"}
{"database":"test","host":"mongodb://127.0.0.1:49274/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"database":"test","host":"mongodb://127.0.0.1:49273/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:14:07:147"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:07:147"}
{"database":"test","host":"mongodb://127.0.0.1:49301/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:08:148"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:08:148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:08:148"}
{"database":"test","host":"mongodb://127.0.0.1:49400/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:08:148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:14:08:148"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:08:148"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:08:148"}
{"database":"test","host":"mongodb://127.0.0.1:49446/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:09:149"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:09:149","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:09:149","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:09:149"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:09:149"}
{"database":"test","host":"mongodb://127.0.0.1:49562/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"database":"test","host":"mongodb://127.0.0.1:49556/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"database":"test","host":"mongodb://127.0.0.1:49555/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:58:1458"}
{"database":"test","host":"mongodb://127.0.0.1:49566/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"database":"test","host":"mongodb://127.0.0.1:49568/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:14:59:1459"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:14:59:1459"}
{"database":"test","host":"mongodb://127.0.0.1:49565/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:14:59:1459"}
{"database":"test","host":"mongodb://127.0.0.1:49569/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:59:1459"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"database":"test","host":"mongodb://127.0.0.1:49567/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"database":"test","host":"mongodb://127.0.0.1:49570/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:14:59:1459"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:15:00:150"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:15:00:150","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:15:00:150"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:00:150"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:00:150"}
{"database":"test","host":"mongodb://127.0.0.1:49731/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"database":"test","host":"mongodb://127.0.0.1:49735/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:01:151","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:01:151","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"database":"test","host":"mongodb://127.0.0.1:49732/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"database":"test","host":"mongodb://127.0.0.1:49741/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:01:151"}
{"database":"test","host":"mongodb://127.0.0.1:49849/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"database":"test","host":"mongodb://127.0.0.1:49850/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"database":"test","host":"mongodb://127.0.0.1:49852/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"database":"test","host":"mongodb://127.0.0.1:49853/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:15:49:1549"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:15:49:1549"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:49:1549"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"database":"test","host":"mongodb://127.0.0.1:49854/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"database":"test","host":"mongodb://127.0.0.1:49857/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"database":"test","host":"mongodb://127.0.0.1:49855/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:15:50:1550"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:15:50:1550"}
{"database":"test","host":"mongodb://127.0.0.1:49858/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:15:50:1550"}
{"database":"test","host":"mongodb://127.0.0.1:49856/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:15:50:1550"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:15:50:1550","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:50:1550"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:15:51:1551"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:51:1551"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:51:1551"}
{"database":"test","host":"mongodb://127.0.0.1:50007/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"database":"test","host":"mongodb://127.0.0.1:50008/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"database":"test","host":"mongodb://127.0.0.1:50032/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:52:1552","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:52:1552","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"database":"test","host":"mongodb://127.0.0.1:50033/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:15:52:1552"}
{"database":"test","host":"mongodb://127.0.0.1:50126/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"database":"test","host":"mongodb://127.0.0.1:50125/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"database":"test","host":"mongodb://127.0.0.1:50128/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"database":"test","host":"mongodb://127.0.0.1:50127/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:34:1634"}
{"database":"test","host":"mongodb://127.0.0.1:50136/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"database":"test","host":"mongodb://127.0.0.1:50135/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:16:35:1635"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:16:35:1635"}
{"database":"test","host":"mongodb://127.0.0.1:50133/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:16:35:1635"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:16:35:1635"}
{"database":"test","host":"mongodb://127.0.0.1:50134/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:35:1635"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"database":"test","host":"mongodb://127.0.0.1:50137/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:35:1635"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:16:35:1635"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:16:36:1636","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:16:36:1636"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"database":"test","host":"mongodb://127.0.0.1:50304/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"database":"test","host":"mongodb://127.0.0.1:50305/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"database":"test","host":"mongodb://127.0.0.1:50306/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:37:1637"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:38:1638","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:38:1638","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:38:1638"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:38:1638"}
{"database":"test","host":"mongodb://127.0.0.1:50307/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:16:38:1638"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:16:38:1638"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:16:38:1638"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:16:38:1638"}
{"database":"test","host":"mongodb://127.0.0.1:50405/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:13:1713"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:13:1713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:13:1713"}
{"database":"test","host":"mongodb://127.0.0.1:50403/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:13:1713"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:13:1713"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:13:1713"}
{"database":"test","host":"mongodb://127.0.0.1:50404/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:13:1713"}
{"database":"test","host":"mongodb://127.0.0.1:50406/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:17:14:1714"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:17:14:1714","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:50412/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"database":"test","host":"mongodb://127.0.0.1:50413/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:14:1714"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:14:1714"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:17:14:1714"}
{"database":"test","host":"mongodb://127.0.0.1:50416/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:17:14:1714"}
{"database":"test","host":"mongodb://127.0.0.1:50414/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:14:1714"}
{"database":"test","host":"mongodb://127.0.0.1:50415/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:17:14:1714"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:17:14:1714"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:17:14:1714"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:15:1715"}
{"database":"test","host":"mongodb://127.0.0.1:50482/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:16:1716"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:16:1716","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:16:1716","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:16:1716"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:16:1716"}
{"database":"test","host":"mongodb://127.0.0.1:50472/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:16:1716"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:16:1716"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:16:1716"}
{"database":"test","host":"mongodb://127.0.0.1:50582/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"database":"test","host":"mongodb://127.0.0.1:50588/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"database":"test","host":"mongodb://127.0.0.1:50589/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:17:1717"}
{"database":"test","host":"mongodb://127.0.0.1:50675/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"database":"test","host":"mongodb://127.0.0.1:50674/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"database":"test","host":"mongodb://127.0.0.1:50676/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:17:49:1749"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:17:49:1749","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:50677/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"database":"test","host":"mongodb://127.0.0.1:50678/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:49:1749"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"database":"test","host":"mongodb://127.0.0.1:50680/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:50:1750"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:50:1750"}
{"database":"test","host":"mongodb://127.0.0.1:50681/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:17:50:1750"}
{"database":"test","host":"mongodb://127.0.0.1:50679/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:17:50:1750"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:17:50:1750"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:50:1750"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"database":"test","host":"mongodb://127.0.0.1:50686/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:50:1750"}
{"database":"test","host":"mongodb://127.0.0.1:50712/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:51:1751"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:51:1751"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:51:1751"}
{"database":"test","host":"mongodb://127.0.0.1:50864/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"database":"test","host":"mongodb://127.0.0.1:50866/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"database":"test","host":"mongodb://127.0.0.1:50865/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:52:1752","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:52:1752","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"database":"test","host":"mongodb://127.0.0.1:50867/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:17:52:1752"}
{"database":"test","host":"mongodb://127.0.0.1:50924/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:15:1815"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:15:1815"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:15:1815"}
{"database":"test","host":"mongodb://127.0.0.1:50925/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"database":"test","host":"mongodb://127.0.0.1:50926/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"database":"test","host":"mongodb://127.0.0.1:50927/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"database":"test","host":"mongodb://127.0.0.1:50931/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:18:16:1816"}
{"database":"test","host":"mongodb://127.0.0.1:50932/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:16:1816"}
{"database":"test","host":"mongodb://127.0.0.1:50930/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:18:17:1817"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:18:17:1817"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:18:17:1817"}
{"database":"test","host":"mongodb://127.0.0.1:50929/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:18:17:1817"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:18:17:1817"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:18:17:1817","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:50933/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:17:1817"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:17:1817"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:18:18:1818"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:18:1818"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:18:1818"}
{"database":"test","host":"mongodb://127.0.0.1:50957/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:18:1818"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:18:1818","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:18:1818","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:18:1818"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:18:1818"}
{"database":"test","host":"mongodb://127.0.0.1:51117/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"database":"test","host":"mongodb://127.0.0.1:51118/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"database":"test","host":"mongodb://127.0.0.1:51119/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"database":"test","host":"mongodb://127.0.0.1:51121/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:18:19:1819"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:18:20:1820"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:18:20:1820"}
{"database":"test","host":"mongodb://127.0.0.1:51223/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:06:196"}
{"database":"test","host":"mongodb://127.0.0.1:51228/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:07:197"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:07:197"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:07:197"}
{"database":"test","host":"mongodb://127.0.0.1:51229/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:07:197"}
{"database":"test","host":"mongodb://127.0.0.1:51230/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:07:197"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:19:07:197"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:07:197"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:07:197"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:19:07:197","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:51231/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"database":"test","host":"mongodb://127.0.0.1:51233/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:19:08:198"}
{"database":"test","host":"mongodb://127.0.0.1:51232/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:19:08:198"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:19:08:198"}
{"database":"test","host":"mongodb://127.0.0.1:51235/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"database":"test","host":"mongodb://127.0.0.1:51234/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:08:198"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:08:198"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:08:198"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:09:199"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:19:09:199"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:09:199"}
{"database":"test","host":"mongodb://127.0.0.1:51383/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:10:1910"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:11:1911"}
{"database":"test","host":"mongodb://127.0.0.1:51400/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:11:1911"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:11:1911","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:11:1911","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:11:1911"}
{"database":"test","host":"mongodb://127.0.0.1:51417/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:11:1911"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:11:1911"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:11:1911"}
{"database":"test","host":"mongodb://127.0.0.1:51420/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"database":"test","host":"mongodb://127.0.0.1:51427/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"database":"test","host":"mongodb://127.0.0.1:51425/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:12:1912"}
{"database":"test","host":"mongodb://127.0.0.1:51528/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:55:1955"}
{"database":"test","host":"mongodb://127.0.0.1:51530/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"database":"test","host":"mongodb://127.0.0.1:51529/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"database":"test","host":"mongodb://127.0.0.1:51535/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:19:56:1956"}
{"database":"test","host":"mongodb://127.0.0.1:51537/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:19:56:1956","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:51536/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:19:56:1956"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:19:56:1956"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:56:1956"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"database":"test","host":"mongodb://127.0.0.1:51538/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:56:1956"}
{"database":"test","host":"mongodb://127.0.0.1:51539/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:56:1956"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"database":"test","host":"mongodb://127.0.0.1:51540/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:57:1957"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:57:1957"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:57:1957"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:57:1957"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:57:1957"}
{"database":"test","host":"mongodb://127.0.0.1:51676/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:58:1958"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:58:1958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:58:1958"}
{"database":"test","host":"mongodb://127.0.0.1:51719/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"database":"test","host":"mongodb://127.0.0.1:51720/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"database":"test","host":"mongodb://127.0.0.1:51721/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"database":"test","host":"mongodb://127.0.0.1:51722/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"database":"test","host":"mongodb://127.0.0.1:51723/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:59:1959","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:59:1959","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:19:59:1959"}
{"database":"test","host":"mongodb://127.0.0.1:51804/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:31:2031"}
{"database":"test","host":"mongodb://127.0.0.1:51806/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:31:2031"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:31:2031"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:31:2031"}
{"database":"test","host":"mongodb://127.0.0.1:51811/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"database":"test","host":"mongodb://127.0.0.1:51813/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"database":"test","host":"mongodb://127.0.0.1:51812/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"database":"test","host":"mongodb://127.0.0.1:51814/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"database":"test","host":"mongodb://127.0.0.1:51817/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:20:32:2032"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:20:32:2032","value":"invalid-id","valueType":"string"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:20:32:2032"}
{"database":"test","host":"mongodb://127.0.0.1:51815/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:20:32:2032"}
{"database":"test","host":"mongodb://127.0.0.1:51816/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:20:32:2032"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:20:32:2032"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:20:32:2032"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:33:2033"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:33:2033"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:20:34:2034"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:34:2034"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:34:2034"}
{"database":"test","host":"mongodb://127.0.0.1:51918/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:34:2034"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:34:2034"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:34:2034"}
{"database":"test","host":"mongodb://127.0.0.1:51988/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"database":"test","host":"mongodb://127.0.0.1:51999/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"database":"test","host":"mongodb://127.0.0.1:52001/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:35:2035","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:35:2035","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"database":"test","host":"mongodb://127.0.0.1:52002/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"database":"test","host":"mongodb://127.0.0.1:52000/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:20:35:2035"}
{"database":"test","host":"mongodb://127.0.0.1:52122/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"database":"test","host":"mongodb://127.0.0.1:52121/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"database":"test","host":"mongodb://127.0.0.1:52125/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"database":"test","host":"mongodb://127.0.0.1:52124/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"database":"test","host":"mongodb://127.0.0.1:52123/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"database":"test","host":"mongodb://127.0.0.1:52126/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:21:27:2127"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:21:27:2127"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:27:2127"}
{"database":"test","host":"mongodb://127.0.0.1:52127/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"database":"test","host":"mongodb://127.0.0.1:52128/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:21:28:2128"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"database":"test","host":"mongodb://127.0.0.1:52129/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:21:28:2128"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:87:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:21:28:2128","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:28:2128"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:21:29:2129"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:29:2129"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:29:2129"}
{"database":"test","host":"mongodb://127.0.0.1:52292/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"database":"test","host":"mongodb://127.0.0.1:52312/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"database":"test","host":"mongodb://127.0.0.1:52314/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"database":"test","host":"mongodb://127.0.0.1:52313/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"database":"test","host":"mongodb://127.0.0.1:52315/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:30:2130","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:30:2130","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:30:2130"}
{"database":"test","host":"mongodb://127.0.0.1:52316/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:21:31:2131"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:21:31:2131"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:21:31:2131"}
{"database":"test","host":"mongodb://127.0.0.1:52429/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:13:2213"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:13:2213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:13:2213"}
{"database":"test","host":"mongodb://127.0.0.1:52431/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:13:2213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:22:13:2213"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:13:2213"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:13:2213"}
{"database":"test","host":"mongodb://127.0.0.1:52433/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"database":"test","host":"mongodb://127.0.0.1:52437/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"database":"test","host":"mongodb://127.0.0.1:52432/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:22:14:2214"}
{"database":"test","host":"mongodb://127.0.0.1:52435/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:22:14:2214"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:22:14:2214"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:14:2214"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"database":"test","host":"mongodb://127.0.0.1:52436/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:14:2214"}
{"database":"test","host":"mongodb://127.0.0.1:52434/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:14:2214"}
{"database":"test","host":"mongodb://127.0.0.1:52438/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:14:2214"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:15:2215"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:15:2215"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:15:2215"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:15:2215"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:15:2215"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:22:15:2215","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:52450/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:16:2216"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:16:2216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:16:2216"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:22:16:2216"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:16:2216"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:16:2216"}
{"database":"test","host":"mongodb://127.0.0.1:52619/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"database":"test","host":"mongodb://127.0.0.1:52620/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"database":"test","host":"mongodb://127.0.0.1:52622/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"database":"test","host":"mongodb://127.0.0.1:52621/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"database":"test","host":"mongodb://127.0.0.1:52624/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:17:2217","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:17:2217","userAgent":"test-user-agent"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:17:2217"}
{"database":"test","host":"mongodb://127.0.0.1:52679/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:36:2236"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:36:2236"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:36:2236"}
{"database":"test","host":"mongodb://127.0.0.1:52680/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"database":"test","host":"mongodb://127.0.0.1:52682/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"database":"test","host":"mongodb://127.0.0.1:52681/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"database":"test","host":"mongodb://127.0.0.1:52684/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"database":"test","host":"mongodb://127.0.0.1:52683/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"database":"test","host":"mongodb://127.0.0.1:52689/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:22:37:2237"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:22:37:2237"}
{"database":"test","host":"mongodb://127.0.0.1:52690/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:22:37:2237"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:37:2237"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:22:37:2237"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:38:2238"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:38:2238"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"database":"test","host":"mongodb://127.0.0.1:52691/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:38:2238"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:22:38:2238","value":"invalid-id","valueType":"string"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:38:2238"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:22:39:2239"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:39:2239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:39:2239"}
{"database":"test","host":"mongodb://127.0.0.1:52785/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:39:2239"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:39:2239"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:39:2239"}
{"database":"test","host":"mongodb://127.0.0.1:52866/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"database":"test","host":"mongodb://127.0.0.1:52870/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:40:2240","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:40:2240","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"database":"test","host":"mongodb://127.0.0.1:52871/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"database":"test","host":"mongodb://127.0.0.1:52872/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"database":"test","host":"mongodb://127.0.0.1:52873/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:22:40:2240"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:22:41:2241"}
{"database":"test","host":"mongodb://127.0.0.1:53088/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:13:2413"}
{"database":"test","host":"mongodb://127.0.0.1:53089/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:13:2413"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:13:2413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:13:2413"}
{"database":"test","host":"mongodb://127.0.0.1:53091/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:13:2413"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:13:2413"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:13:2413"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:24:14:2414","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:53090/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"database":"test","host":"mongodb://127.0.0.1:53092/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:24:14:2414"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:24:14:2414"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:24:14:2414"}
{"database":"test","host":"mongodb://127.0.0.1:53094/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:14:2414"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:24:14:2414"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:24:14:2414"}
{"database":"test","host":"mongodb://127.0.0.1:53093/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"database":"test","host":"mongodb://127.0.0.1:53095/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:24:14:2414"}
{"database":"test","host":"mongodb://127.0.0.1:53100/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:24:15:2415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:24:15:2415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:24:15:2415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:24:15:2415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:15:2415"}
{"database":"test","host":"mongodb://127.0.0.1:53195/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:16:2416"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:16:2416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:16:2416"}
{"database":"test","host":"mongodb://127.0.0.1:53277/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:16:2416"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:16:2416"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:16:2416"}
{"database":"test","host":"mongodb://127.0.0.1:53278/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"database":"test","host":"mongodb://127.0.0.1:53279/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:17:2417","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:17:2417","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"database":"test","host":"mongodb://127.0.0.1:53280/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"database":"test","host":"mongodb://127.0.0.1:53281/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:24:17:2417"}
{"database":"test","host":"mongodb://127.0.0.1:53508/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:52:2552"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:52:2552"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:52:2552"}
{"database":"test","host":"mongodb://127.0.0.1:53509/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"database":"test","host":"mongodb://127.0.0.1:53514/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"database":"test","host":"mongodb://127.0.0.1:53515/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"database":"test","host":"mongodb://127.0.0.1:53516/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"database":"test","host":"mongodb://127.0.0.1:53517/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:25:53:2553"}
{"database":"test","host":"mongodb://127.0.0.1:53518/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:25:53:2553"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:25:53:2553"}
{"database":"test","host":"mongodb://127.0.0.1:53519/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:25:53:2553"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:25:53:2553"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:25:53:2553","value":"invalid-id","valueType":"string"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:53:2553"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:25:53:2553"}
{"database":"test","host":"mongodb://127.0.0.1:53520/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:54:2554"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:55:2555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:55:2555"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:25:55:2555"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:55:2555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:55:2555"}
{"database":"test","host":"mongodb://127.0.0.1:53627/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:55:2555"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:55:2555","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:55:2555","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:55:2555"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:55:2555"}
{"database":"test","host":"mongodb://127.0.0.1:53689/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"database":"test","host":"mongodb://127.0.0.1:53688/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"database":"test","host":"mongodb://127.0.0.1:53706/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:56:2556"}
{"database":"test","host":"mongodb://127.0.0.1:53708/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"database":"test","host":"mongodb://127.0.0.1:53707/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"database":"test","host":"mongodb://127.0.0.1:53709/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:25:57:2557"}
{"database":"test","host":"mongodb://127.0.0.1:53776/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:20:2620"}
{"database":"test","host":"mongodb://127.0.0.1:53773/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:20:2620"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:20:2620"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:20:2620"}
{"database":"test","host":"mongodb://127.0.0.1:53774/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"database":"test","host":"mongodb://127.0.0.1:53775/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"database":"test","host":"mongodb://127.0.0.1:53779/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:26:21:2621"}
{"celebrity":"Taylor Swift","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:26:21:2621"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"searchTerm":"music","sortBy":"publishedAt","timestamp":"2025-09-05 14:26:21:2621"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sentiment":"positive","sortBy":"publishedAt","timestamp":"2025-09-05 14:26:21:2621"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:26:21:2621"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":2,"sortBy":"publishedAt","timestamp":"2025-09-05 14:26:21:2621"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:26:21:2621"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"database":"test","host":"mongodb://127.0.0.1:53778/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"database":"test","host":"mongodb://127.0.0.1:53777/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:26:21:2621","value":"invalid-id","valueType":"string"}
{"database":"test","host":"mongodb://127.0.0.1:53781/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:21:2621"}
{"database":"test","host":"mongodb://127.0.0.1:53780/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":5,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":2,"timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrities request received\u001b[39m","page":1,"timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"Taylor","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered by admin\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mManual news fetch triggered via API\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Starting news fetch job...\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m‚ùå News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mAdmin celebrity search request\u001b[39m","page":1,"query":"NonExistent","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCache clear triggered by admin\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"New Celebrity","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mAdded new celebrity: New Celebrity\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"category":"actress","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCreating new celebrity\u001b[39m","name":"Existing Celebrity","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:22:2622"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdated celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mUpdating celebrity\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mRemoved celebrity: Test Celebrity\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"id":"507f1f77bcf86cd799439011","ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mDeleting celebrity\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity statistics request\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 3 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity cache cleared\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMigration completed: 3 created, 0 skipped, 0 errors\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"ip":"::ffff:127.0.0.1","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mCelebrity migration from JSON requested\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mStarting migration of 1 celebrities from JSON\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:22:2622"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:26:23:2623"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:23:2623"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:23:2623"}
{"database":"test","host":"mongodb://127.0.0.1:53865/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:23:2623"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:23:2623"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:23:2623"}
{"database":"test","host":"mongodb://127.0.0.1:53962/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mTest info message\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"database":"test","host":"mongodb://127.0.0.1:53963/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"database":"test","host":"mongodb://127.0.0.1:53964/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:24:2624","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:24:2624","userAgent":"test-user-agent"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:24:2624"}
{"database":"test","host":"mongodb://127.0.0.1:53965/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"database":"test","host":"mongodb://127.0.0.1:53966/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"database":"test","host":"mongodb://127.0.0.1:53967/","level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"level":"\u001b[33mwarn\u001b[39m","message":"\u001b[33mMongoDB disconnected\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mMongoDB disconnected gracefully\u001b[39m","timestamp":"2025-09-05 14:26:25:2625"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Connecting to MongoDB...\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Redis connected successfully\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìç Host: localhost:6379\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìä Database: 0\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEnhanced cache service initialized with Redis\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìç Database: gatas-news\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üîó Host: mongodb://localhost:27017/gatas-news\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ Connecting to Redis...\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[37mdebug\u001b[39m","message":"\u001b[37mRedis already connected\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚è∞ Initializing job scheduler...\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Daily news fetch scheduled: */30 * * * *\u001b[39m","nextRun":"Unknown","timestamp":"2025-09-06 20:39:21:3921","timezone":"America/Sao_Paulo"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Weekly cleanup scheduled: Sundays at 2 AM\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Hourly health checks scheduled\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Job scheduler initialized successfully\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìã 3 scheduled jobs configured:\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üì∞ daily-news-fetch\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üßπ weekly-cleanup\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üéÜ hourly-health-check\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚ÑπÔ∏è Recent news data found, skipping initial fetch\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All services initialized successfully\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìç Server running on port 8000\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check:  http://localhost:8000/health\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müì∞ News API:      http://localhost:8000/api/v1/news\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Admin panel:   http://localhost:8000/api/v1/admin\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Enhanced logging enabled\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müö¶ Relaxed rate limits\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Auto-reload on file changes\u001b[39m","timestamp":"2025-09-06 20:39:21:3921"}
{"level":"\u001b[35mhttp\u001b[39m","message":"\u001b[35mGET /health 200 144 - 2.572 ms\u001b[39m","timestamp":"2025-09-06 20:39:33:3933"}
{"ip":"::1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-06 20:39:51:3951"}
{"level":"\u001b[37mdebug\u001b[39m","message":"\u001b[37mCache miss: news:page:1:limit:20:sort:publishedAt\u001b[39m","timestamp":"2025-09-06 20:39:51:3951"}
{"level":"\u001b[37mdebug\u001b[39m","message":"\u001b[37mCache set (Redis): news:page:1:limit:20:sort:publishedAt, TTL: 3600s\u001b[39m","timestamp":"2025-09-06 20:39:51:3951"}
{"level":"\u001b[37mdebug\u001b[39m","message":"\u001b[37mCache set (Memory): news:page:1:limit:20:sort:publishedAt, TTL: 3600s\u001b[39m","timestamp":"2025-09-06 20:39:51:3951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mFetched 20 articles from database\u001b[39m","page":1,"timestamp":"2025-09-06 20:39:51:3951","totalResults":109}
{"level":"\u001b[35mhttp\u001b[39m","message":"\u001b[35mGET /api/v1/news?page=1&limit=20 200 - - 48.026 ms\u001b[39m","timestamp":"2025-09-06 20:39:51:3951"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Connecting to MongoDB...\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Redis connected successfully\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìç Host: localhost:6379\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìä Database: 0\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEnhanced cache service initialized with Redis\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìç Database: gatas-news\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üîó Host: mongodb://localhost:27017/gatas-news\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ Connecting to Redis...\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[37mdebug\u001b[39m","message":"\u001b[37mRedis already connected\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚è∞ Initializing job scheduler...\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Daily news fetch scheduled: */30 * * * *\u001b[39m","nextRun":"Unknown","timestamp":"2025-09-06 20:39:58:3958","timezone":"America/Sao_Paulo"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Weekly cleanup scheduled: Sundays at 2 AM\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Hourly health checks scheduled\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Job scheduler initialized successfully\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìã 3 scheduled jobs configured:\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üì∞ daily-news-fetch\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üßπ weekly-cleanup\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üéÜ hourly-health-check\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚ÑπÔ∏è Recent news data found, skipping initial fetch\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All services initialized successfully\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìç Server running on port 8000\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check:  http://localhost:8000/health\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müì∞ News API:      http://localhost:8000/api/v1/news\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Admin panel:   http://localhost:8000/api/v1/admin\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Enhanced logging enabled\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müö¶ Relaxed rate limits\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Auto-reload on file changes\u001b[39m","timestamp":"2025-09-06 20:39:58:3958"}
{"ip":"::1","level":"\u001b[32minfo\u001b[39m","limit":20,"message":"\u001b[32mNews request received\u001b[39m","page":1,"sortBy":"publishedAt","timestamp":"2025-09-06 20:40:09:409"}
{"level":"\u001b[37mdebug\u001b[39m","message":"\u001b[37mCache hit (Redis): news:page:1:limit:20:sort:publishedAt\u001b[39m","timestamp":"2025-09-06 20:40:09:409"}
{"level":"\u001b[35mhttp\u001b[39m","message":"\u001b[35mGET /api/v1/news?page=1&limit=20 200 - - 21.042 ms\u001b[39m","timestamp":"2025-09-06 20:40:09:409"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived SIGTERM. Starting graceful shutdown...\u001b[39m","timestamp":"2025-09-06 20:41:16:4116"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Initializing services...\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Connecting to MongoDB...\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Redis connected successfully\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìç Host: localhost:6379\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìä Database: 0\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mEnhanced cache service initialized with Redis\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ MongoDB connected successfully\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìç Database: gatas-news\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üîó Host: mongodb://localhost:27017/gatas-news\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müöÄ Connecting to Redis...\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[37mdebug\u001b[39m","message":"\u001b[37mRedis already connected\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚è∞ Initializing job scheduler...\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Daily news fetch scheduled: */30 * * * *\u001b[39m","nextRun":"Unknown","timestamp":"2025-09-06 20:44:22:4422","timezone":"America/Sao_Paulo"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Weekly cleanup scheduled: Sundays at 2 AM\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìÖ Hourly health checks scheduled\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ Job scheduler initialized successfully\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m   üìã 3 scheduled jobs configured:\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üì∞ daily-news-fetch\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üßπ weekly-cleanup\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m      üéÜ hourly-health-check\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚ÑπÔ∏è Recent news data found, skipping initial fetch\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32m‚úÖ All services initialized successfully\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìç Server running on port 8000\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müåç Environment: development\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müìä Health check:  http://localhost:8000/health\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müì∞ News API:      http://localhost:8000/api/v1/news\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Admin panel:   http://localhost:8000/api/v1/admin\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîß Enhanced logging enabled\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müö¶ Relaxed rate limits\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32müîÑ Auto-reload on file changes\u001b[39m","timestamp":"2025-09-06 20:44:22:4422"}
{"level":"\u001b[32minfo\u001b[39m","message":"\u001b[32mReceived SIGTERM. Starting graceful shutdown...\u001b[39m","timestamp":"2025-09-06 20:44:41:4441"}
