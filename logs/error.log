{"error":"External API Error: News API key is not configured","ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mExternal API Error: News API key is not configured - GET /api/v1/news - ::1\u001b[39m","method":"GET","path":"/api/v1/news","stack":"Error: External API Error: News API key is not configured\n    at new ExternalAPIError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:37:5)\n    at NewsService.fetchArticlesForCelebrities (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:111:13)\n    at NewsService.getNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:74:35)\n    at async /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/newsController.ts:22:20","timestamp":"2025-09-05 11:18:09:189","userAgent":"curl/8.7.1"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:36:23:3623"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:36:23:3623","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required., name: Path `name` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required., name: Path `name` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"_message":"Celebrity validation failed","errors":{"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"message":"Path `slug` is required.","path":"slug","type":"required"}}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:36:23:3623"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:37:48:3748"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:37:48:3748","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:37:48:3748"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:39:47:3947"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:39:47:3947","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:39:47:3947"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:41:15:4115"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:41:15:4115","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:41:16:4116"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:41:56:4156"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:41:56:4156","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:41:56:4156"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:43:11:4311"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:43:11:4311","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:43:11:4311"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:46:12:4612"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:46:12:4612","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:46:12:4612"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:46:49:4649"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:46:49:4649","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:46:50:4650"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:52:55:5255"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:52:56:5256","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:52:56:5256"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 12:57:08:578"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 12:57:08:578","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 12:57:08:578"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:00:13:013"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:00:13:013","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:00:13:013"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:01:33:133"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:01:33:133","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:01:33:133"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:02:22:222"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:02:22:222","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:02:23:223"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:02:51:251"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:02:51:251","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:02:52:252"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:06:43:643","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:06:44:644"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:08:41:841"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:08:41:841","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:08:42:842"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:11:30:1130"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:11:30:1130","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:11:31:1131"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:12:21:1221"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:12:21:1221","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:12:22:1222"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:16:50:1650"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:16:50:1650","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:16:51:1651"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:211:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:16:54:1654"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:24:19:2419"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:24:19:2419","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:24:20:2420"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:24:24:2424"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:24:24:2424"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:36:24:3624"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:36:24:3624","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:25:3625"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:25:3625"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:25:3625"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:36:51:3651"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:36:51:3651","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:36:51:3651"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:36:52:3652"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:53:3653"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:36:53:3653"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:38:20:3820"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:38:20:3820","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:20:3820"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:20:3820"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:21:3821"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:21:3821"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:38:42:3842"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:38:42:3842","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:43:3843"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:38:43:3843"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:39:59:3959"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:39:59:3959","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:39:59:3959"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:40:00:400"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:40:00:400"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:45:12:4512"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:45:12:4512"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:45:12:4512","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:45:13:4513"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:45:13:4513"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:45:13:4513"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:46:47:4647"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:46:47:4647","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:46:48:4648"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:46:48:4648"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:49:26:4926"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:49:26:4926"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:49:26:4926","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:26:4926"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error creating article: Creation failed'\u001b[39m","stack":"Error: Creation failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:58:64)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by ID: Article_1.Article.findById(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findById(...).exec is not a function\n    at ArticleRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:68:41)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:70:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by ID: Article_1.Article.findById(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findById(...).exec is not a function\n    at ArticleRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:68:41)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:79:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by ID: Article_1.Article.findById(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findById(...).exec is not a function\n    at ArticleRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:68:41)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:87:38)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by URL: Article_1.Article.findOne(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findOne(...).exec is not a function\n    at ArticleRepository.findByUrl (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:80:45)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:96:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding article by URL: Article_1.Article.findOne(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findOne(...).exec is not a function\n    at ArticleRepository.findByUrl (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:80:45)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:105:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error finding articles with filters: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.findWithFilters (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:112:38)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:186:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error finding articles with filters: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.findWithFilters (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:112:38)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:216:31)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error finding articles with filters: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.findWithFilters (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:112:38)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:244:31)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error updating article: Article_1.Article.findByIdAndUpdate(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findByIdAndUpdate(...).exec is not a function\n    at ArticleRepository.update (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:229:77)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:263:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error updating article: Article_1.Article.findByIdAndUpdate(...).exec is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.findByIdAndUpdate(...).exec is not a function\n    at ArticleRepository.update (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:229:77)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:275:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error getting articles statistics: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.getStatistics (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:307:33)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:314:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error getting articles statistics: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.getStatistics (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:307:33)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:323:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error checking article existence: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.existsByUrl (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:266:58)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:340:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m\"Error checking article existence: Cannot read properties of undefined (reading 'exec')\"\u001b[39m","stack":"TypeError: Cannot read properties of undefined (reading 'exec')\n    at ArticleRepository.existsByUrl (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:266:58)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:349:46)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error finding articles with filters: Article_1.Article.find(...).sort is not a function'\u001b[39m","stack":"TypeError: Article_1.Article.find(...).sort is not a function\n    at ArticleRepository.findWithFilters (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.ts:111:29)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:360:38)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"level":"\u001b[31m'error'\u001b[39m","message":"\u001b[31m'Error creating article: Validation failed'\u001b[39m","stack":"Error: Validation failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/ArticleRepository.test.ts:374:64)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:49:27:4927"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:49:27:4927"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:53:24:5324"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:53:24:5324","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:53:24:5324"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:53:24:5324"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:53:25:5325"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:54:53:5453"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:54:53:5453","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:54:54:5454"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:54:54:5454"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:54:54:5454"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 13:57:46:5746"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 13:57:46:5746","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 13:57:47:5747"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 13:57:47:5747"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 13:57:48:5748"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:04:04"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:04:04"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:00:04:04"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:00:04:04","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:05:05"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:05:05"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:00:05:05"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:44:044"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:00:44:044","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:44:044"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:00:45:045"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:00:45:045"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:01:14:114"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:01:14:114","value":"invalid-id","valueType":"string"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:24:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:01:14:114","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:01:15:115"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:01:15:115"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:01:15:115"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:04:13:413"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:04:14:414","value":"invalid-id","valueType":"string"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:24:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:04:14:414","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","timestamp":"2025-09-05 14:04:14:414","userAgent":"test-user-agent"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:04:14:414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:04:15:415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:04:15:415"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:04:54"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:04:54"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:05:04:54","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:05:05:55"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:05:40:540"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:05:40:540","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:05:40:540"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:41:541"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:05:41:541"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:05:41:541"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:33:633","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:33:633","userAgent":"test-user-agent"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:06:33:633","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:06:34:634"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:06:34:634"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:06:34:634"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:08:08:88"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:08:35:835"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:55:855","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:55:855","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:55:855"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:08:56:856"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:08:56:856"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:08:56:856","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:08:56:856"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:08:56:856"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:08:57:857"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:09:36:936"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:09:37:937","value":"invalid-id","valueType":"string"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:09:37:937"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:09:37:937"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:09:38:938"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:40:1040","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:40:1040","userAgent":"test-user-agent"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:10:41:1041"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:10:41:1041","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:41:1041"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:42:1042"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:10:42:1042"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:10:42:1042"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:33:1133","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:33:1133","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:33:1133"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:11:34:1134"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:11:34:1134"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:11:34:1134","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:11:34:1134"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:11:34:1134"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:11:35:1135"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:12:20:1220"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:12:20:1220","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:20:1220"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:12:21:1221"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:12:21:1221"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:12:21:1221"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:22:1222","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:12:22:1222","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:28:1328"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:28:1328"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:13:28:1328"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:13:28:1328","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:13:29:1329"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:13:29:1329"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:13:29:1329"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:31:1331","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:13:31:1331","userAgent":"test-user-agent"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:83:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:14:06:146","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:07:147"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:07:147"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:14:07:147"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:09:149","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:09:149","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:59:1459"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:14:59:1459"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:15:00:150"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:15:00:150","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:15:00:150"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:01:151","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:01:151","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:49:1549"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:49:1549"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:15:50:1550"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:15:50:1550","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:15:50:1550"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:15:50:1550"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:15:51:1551"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:52:1552","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:15:52:1552","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:16:35:1635"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:16:35:1635"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:16:35:1635"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:16:36:1636","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:16:36:1636"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:38:1638","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:16:38:1638","userAgent":"test-user-agent"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:17:14:1714"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:17:14:1714","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:15:1715"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:15:1715"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:17:15:1715"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:16:1716","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:16:1716","userAgent":"test-user-agent"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:17:49:1749"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:17:49:1749","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:50:1750"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:17:50:1750"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:17:50:1750"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:52:1752","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:17:52:1752","userAgent":"test-user-agent"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:18:17:1817"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:18:17:1817","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:18:17:1817"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:18:17:1817"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:18:18:1818"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:18:1818","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:18:18:1818","userAgent":"test-user-agent"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:19:07:197"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:19:07:197","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:08:198"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:08:198"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:09:199"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:09:199"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:11:1911","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:11:1911","userAgent":"test-user-agent"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:19:56:1956"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:19:56:1956","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:56:1956"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:57:1957"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:19:57:1957"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:19:57:1957"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:59:1959","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:19:59:1959","userAgent":"test-user-agent"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:84:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:20:32:2032","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:33:2033"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:33:2033"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:20:34:2034"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:35:2035","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:20:35:2035","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:27:2127"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:21:28:2128"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }","index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"}},"index":0,"keyPattern":{"name":1},"keyValue":{"name":"Duplicate Celebrity"},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\u001b[39m","stack":"MongoServerError: E11000 duplicate key error collection: test.celebrities index: name_1 dup key: { name: \"Duplicate Celebrity\" }\n    at InsertOneOperation.execute (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at tryOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at executeOperation (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at Collection.insertOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongodb/src/collection.ts:286:12)","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:21:28:2128"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:21:28:2128"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:87:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:21:28:2128","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:21:29:2129"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:30:2130","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:21:30:2130","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:14:2214"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:15:2215"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:15:2215"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:22:15:2215","value":"invalid-id","valueType":"string"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:22:16:2216"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:17:2217","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:17:2217","userAgent":"test-user-agent"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:38:2238"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:22:38:2238","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:38:2238"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:38:2238"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:22:39:2239"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:40:2240","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:22:40:2240","userAgent":"test-user-agent"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:24:14:2414","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:14:2414"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:24:14:2414"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:24:15:2415"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:24:15:2415"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:17:2417","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:24:17:2417","userAgent":"test-user-agent"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:25:53:2553","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:54:2554"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:54:2554"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:25:55:2555"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:55:2555","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:25:55:2555","userAgent":"test-user-agent"}
{"kind":"ObjectId","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError finding celebrity by ID: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\u001b[39m","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"invalid-id\" (type string) at path \"_id\" for model \"Celebrity\"\n    at SchemaObjectId.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schema/objectId.js:251:11)\n    at SchemaObjectId.SchemaType.applySetters (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1258:12)\n    at SchemaObjectId.SchemaType.castForQuery (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1694:17)\n    at cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/cast.js:390:32)\n    at model.Query.Query.cast (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:5060:12)\n    at model.Query.Query._castConditions (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/query.js:4627:80)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at CelebrityRepository.findById (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.ts:62:14)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/database/repositories/CelebrityRepository.test.ts:89:7)","stringValue":"\"invalid-id\"","timestamp":"2025-09-05 14:26:21:2621","value":"invalid-id","valueType":"string"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31m❌ News fetch job failed: News API key is not configured\u001b[39m","stack":"Error: News API key is not configured\n    at NewsFetcher.fetchAndStoreNews (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/jobs/newsFetcher.ts:55:15)\n    at NewsService.fetchAndStoreNews [as triggerNewsFetch] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/services/newsService.ts:374:40)\n    at triggerNewsFetch (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/adminController.ts:21:38)\n    at fn (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.ts:48:21)\n    at Layer.handle [as handle_request] (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/node_modules/express/lib/router/route.js:149:13)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:899:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/express-rate-limit/dist/index.cjs:782:5","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError adding celebrity: E11000 duplicate key error collection: celebrities index: name_1\u001b[39m","stack":"Error: E11000 duplicate key error collection: celebrities index: name_1\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:210:9)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError migrating celebrities from JSON: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:22:2622"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError during manual migration: Migration failed\u001b[39m","stack":"Error: Migration failed\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/controllers/celebrityController.test.ts:335:65)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:22:2622"}
{"_message":"Celebrity validation failed","errors":{"name":{"kind":"required","message":"Path `name` is required.","name":"ValidatorError","path":"name","properties":{"length":0,"message":"Path `name` is required.","path":"name","type":"required","value":""},"value":""},"slug":{"kind":"required","message":"Path `slug` is required.","name":"ValidatorError","path":"slug","properties":{"length":0,"message":"Path `slug` is required.","path":"slug","type":"required","value":""},"value":""}},"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError creating celebrity: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\u001b[39m","stack":"ValidationError: Celebrity validation failed: name: Path `name` is required., slug: Path `slug` is required.\n    at model.Document.invalidate (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3358:32)\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/document.js:3119:17\n    at /Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/mongoose/lib/schemaType.js:1416:9\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-09-05 14:26:23:2623"}
{"error":"Test error","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mTest error - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Test error\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:25:19)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:24:2624","userAgent":"test-user-agent"}
{"error":"Invalid input data","ip":"127.0.0.1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mInvalid input data - GET /test - 127.0.0.1\u001b[39m","method":"GET","path":"/test","stack":"Error: Invalid input data\n    at new ValidationError (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/types/errors.ts:19:5)\n    at Object.<anonymous> (/Users/juansilvalopes/Documents/GitHub/gatas-news/apps/api/src/middleware/errorHandler.test.ts:39:29)\n    at Promise.finally.completed (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)\n    at _callCircusTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:946:3)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:839:13)\n    at _runTestsForDescribeBlock (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:829:11)\n    at run (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:757:3)\n    at runAndTransformResultsToJestFormat (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)\n    at jestAdapter (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-circus/build/runner.js:101:19)\n    at runTestInternal (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:275:16)\n    at runTest (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:343:7)\n    at Object.worker (/Users/juansilvalopes/Documents/GitHub/gatas-news/node_modules/jest-runner/build/testWorker.js:497:12)","timestamp":"2025-09-05 14:26:24:2624","userAgent":"test-user-agent"}
